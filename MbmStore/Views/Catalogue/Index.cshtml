@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<!--Strongly typed View-->
@using MbmStore.Models;
@using MbmStore.Infrastructure;
@model IEnumerable<Product>
@{
    ViewData["Title"] = "Catalogue";
}

<section>
    <div id="flex">
        <div id="container">
            <h3>Movies</h3>
            @foreach (Movie movie in Model.OfType<Movie>().ToList())
            {
                <br />
                <img src="@movie.ImageURL" alt="Movie" />
                <br />
                <strong>Title:</strong>
                @movie.Title
                <br />
                <strong>Director:</strong>
                @movie.Director
                <br />
                <strong>Price:</strong>
                @movie.Price

                <div>
                    <form id="@movie.ProductID" asp-action="AddToCart" asp-controller="Cart"
                          method="post">
                        <input type="hidden" name="ProductID" value="@movie.ProductID" />
                        <input type="hidden" name="returnUrl"
                               value="@ViewContext.HttpContext.Request.PathAndQuery()" />
                        <span class="card-text p-1">
                            <button type="submit"
                                    class="btn btn-success btn-sm pull-right" style="float:right">
                                Add To Cart
                            </button>
                        </span>
                    </form>
                </div>
            }
        </div>
        <div id="container">
            <h3>Books</h3>
            @foreach (Book book in Model.OfType<Book>().ToList())
            {
                <br />
                <img src="@book.ImageURL" alt="Book" />
                <br />
                <strong>Title:</strong>
                @book.Title
                <br />
                <strong>Author:</strong>
                @book.Author
                <br />
                <strong>Published:</strong>
                @book.Published
                <br />
                <strong>Publisher:</strong>
                @book.Publisher
                <br />
                <strong>ISBN:</strong>
                @book.ISBN
                <br />
                <strong>Price:</strong>
                @book.Price
                <br />

                <div>
                    <form id="@book.ProductID" asp-action="AddToCart" asp-controller="Cart"
                          method="post">
                        <input type="hidden" name="ProductID" value="@book.ProductID" />
                        <input type="hidden" name="returnUrl"
                               value="@ViewContext.HttpContext.Request.PathAndQuery()" />
                        <span class="card-text p-1">
                            <button type="submit"
                                    class="btn btn-success btn-sm pull-right" style="float:right">
                                Add To Cart
                            </button>
                        </span>
                    </form>
                </div>

            }
        </div>

        <div id="container">
            <h3>Music</h3>
            @foreach (var cd in Model.OfType<MusicCD>().ToList())
            {
                <br />
                <img src="@cd.ImageURL" alt="CD" />
                <br />
                <strong>Title</strong>
                @cd.Title
                <br />
                <strong>Artist:</strong>
                @cd.Artist
                <br />
                <strong>Price:</strong>
                @cd.Price
                <br />
                <strong> Tracks: </strong>
                <ol>
                    @foreach (Track track in cd.Tracks)
                    {
                        <li>
                            @track.Title
                            (@track.Composer)
                            @track.Length.Minutes:@track.Length.Seconds
                        </li>
                    }
                </ol>
                <strong>Total playing time</strong>
                @cd.GetPlayingTime()
                <br />
                <div>
                    <form id="@cd.ProductID" asp-action="AddToCart" asp-controller="Cart"
                          method="post">
                        <input type="hidden" name="ProductID" value="@cd.ProductID" />
                        <input type="hidden" name="returnUrl"
                               value="@ViewContext.HttpContext.Request.PathAndQuery()" />
                        <span class="card-text p-1">
                            <button type="submit"
                                    class="btn btn-success btn-sm pull-right" style="float:right">
                                Add To Cart
                            </button>
                        </span>
                    </form>
                </div>
            }
        </div>
    </div>
</section>